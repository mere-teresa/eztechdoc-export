1.  <span>[Developer](index.html)</span>
2.  <span>[Documentation](Documentation_31429504.html)</span>
3.  <span>[Tutorials](Tutorials_31429522.html)</span>
4.  <span>[Creating a Tweet Field Type](Creating-a-Tweet-Field-Type_31429766.html)</span>

<span id="title-text"> Developer : Register the Field Type as a service </span>
===============================================================================

Created by <span class="author"> Dominika Kurek</span>, last modified on May 05, 2016

To complete the implementation, we must register our Field Type with Symfony by creating a service for it.

Services are by default declared by bundles in `Resources/config/services.yml`.

Using a dedicated file for the Field Type services

<span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
In order to be closer to the kernel best practices, we could declare our Field Type services in a custom `fieldtypes.yml` file.

All we have to do is instruct the bundle to actually load this file in addition to `services.yml` (or instead of `services.yml`!). This is done in the extension definition file, `         DependencyInjection/EzSystemsTweetFieldTypeExtension.php`, in the `         load()` method.

Inside this file, find this line:

``` brush:
$loader->load('services.yml');
```

This is where our bundle tells Symfony that when parameters are loaded, `services.yml` should be loaded from `Resources/config/` (defined above). Either replace the line, or add a new one with:

``` brush:
$loader->load('fieldtypes.yml');
```

 

Like most API components, Field Types use the <a href="http://symfony.com/doc/current/components/dependency_injection/tags.html" class="external-link">Symfony 2 service tag mechanism</a>.

The principle is quite simple: a service can be assigned one or several tags, with specific parameters. When the dependency injection container is compiled into a PHP file, tags are read by `CompilerPass` implementations that add extra handling for tagged services. Each service tagged as `       ezpublish.fieldType` is added to a <a href="http://martinfowler.com/eaaCatalog/registry.html" class="external-link">registry</a> using the alias argument as its unique identifier (`ezstring`, `ezxmltext`, etc.).  Each Field Type must also inherit from the abstract ezpublish.fieldType service. This ensures that the initialization steps shared by all Field Types are executed.

Here is the service definition for our Tweet type:

 

**Resources/config/services.yml**

``` brush:
parameters:
    ezsystems.tweetfieldtypebundle.fieldType.eztweet.class: EzSystems\TweetFieldTypeBundle\eZ\Publish\FieldType\Tweet\Type
 
services:
    ezsystems.tweetfieldtypebundle.fieldType.eztweet:
        parent: ezpublish.fieldType
        class: %ezsystems.tweetfieldtypebundle.fieldType.eztweet.class%
        tags:
            - {name: ezpublish.fieldType, alias: eztweet}
```

We take care of namespacing our Field Type with our vendor and bundle name to limit the risk of naming conflicts.

**Tutorial path**

Document generated by Confluence on Mar 24, 2017 17:19

[Atlassian](http://www.atlassian.com/)


