<div id="page">
<div id="main" class="aui-page-panel">
<div id="main-header">
<div id="breadcrumb-section">
1.  [Developer](index.html)
2.  [Documentation](Documentation_31429504.html)
3.  [The Complete Guide to eZ
    Platform](The-Complete-Guide-to-eZ-Platform_31429526.html)

</div>
**Developer : Environments**

</div>
<div id="content" class="view">
<div class="page-metadata">
Created by Dominika Kurek, last modified by Sarah Haïm-Lubczanski on Jul
19, 2016

</div>
<div id="main-content" class="wiki-content group">
<div class="contentLayout2">
<div class="columnLayout two-right-sidebar"
data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
Environment configuration as provided by Symfony is enhanced in eZ
Platform to allow specifying this in the virtual host configuration.\
You can configure several environments, from production, development or
staging, even if for each one of them you need to use different
configuration sets.

 

<div
class="confluence-information-macro confluence-information-macro-information">
<div class="confluence-information-macro-body">
See also [the Symfony Recipe about " How to Master and Create new
Environments
"](http://symfony.com/doc/current/cookbook/configuration/environments.html)

</div>
</div>
**Web server configuration**

For example, using Apache, in the `VirtualHost` example in
[doc/apache2/](https://github.com/ezsystems/ezplatform/tree/master/doc/apache2) in
your install, the required `VirtualHost` configurations have been
already included. You can switch to the desired environment by setting
the `ENVIRONMENT` environment variable to “`prod`“,”`dev`" or other
custom value, as you can see in the following example:

<div class="code panel pdl" style="border-width: 1px;">
<div class="codeContent panelContent pdl">
``` {.sourceCode .brush:}
# Environment.
# Possible values: "prod" and "dev" out-of-the-box, other values possible with proper configuration
# Defaults to "prod" if omitted (uses SetEnvIf so value can be used in rewrite rules)
SetEnvIf Request_URI ".*" SYMFONY_ENV="prod"
```

</div>
</div>
**Configuration**

If you want to use a custom environment (something else then “`prod`”
and “`dev`”) the next step is to create the dedicated configuration
files for your environment:

-   `app/config/config_ <env_name> .yml`
-   `app/config/ezplatform_ <env_name> .yml`

The name used as `<env_name>` will be the one that can be used as value
of the `ENVIRONMENT` environment variable.

Those files must import the main configuration file, just like the
default `` `config_dev.yml ``
&lt;<https://github.com/ezsystems/ezpublish-community/blob/master/ezpublish/config/config_dev.yml>&gt;\_\_
already does. Here’s an example:

.. raw:: html

   &lt;div class="code panel pdl" style="border-width: 1px;"&gt;

.. raw:: html

   &lt;div class="codeContent panelContent pdl"&gt;

.. code:: brush:

    imports:
        - { resource: config.yml }

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

 

This allows you to override settings defined in the main configuration
file, depending on your environment (like the DB settings or any other
setting you may want to override).

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;div class="cell aside" data-type="aside"&gt;

.. raw:: html

   &lt;div class="innerCell"&gt;

.. rubric:: In this topic:
   :name: Environments-Inthistopic:

.. raw:: html

   &lt;div class="toc-macro rbtoc1490375996940"&gt;

-  Web server configuration
&lt;\#Environments-Webserverconfiguration&gt;\_\_
-  Configuration &lt;\#Environments-Configuration&gt;\_\_

.. raw:: html

   &lt;/div&gt;

 

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;/div&gt;

.. raw:: html

   &lt;div id="footer" role="contentinfo"&gt;

.. raw:: html

   &lt;div class="section footer-body"&gt;

Document generated by Confluence on Mar 24, 2017 17:19

.. raw:: html

   &lt;div id="footer-logo"&gt;

Atlassian &lt;<http://www.atlassian.com/>&gt;\`\_\_

</div>
</div>
</div>
</div>

