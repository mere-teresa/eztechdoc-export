<div id="page">
<div id="main" class="aui-page-panel">
<div id="main-header">
<div id="breadcrumb-section">
1.  [Developer](index.html)
2.  [Documentation](Documentation_31429504.html)
3.  [The Complete Guide to eZ
    Platform](The-Complete-Guide-to-eZ-Platform_31429526.html)
4.  [Repository](Repository_31432023.html)
5.  [List of Limitations](List-of-Limitations_31430459.html)

</div>
**Developer : ParentOwnerLimitation**

</div>
<div id="content" class="view">
<div class="page-metadata">
Created by Dominika Kurek, last modified on Apr 28, 2016

</div>
<div id="main-content" class="wiki-content group">
<div class="contentLayout2">
<div class="columnLayout two-right-sidebar"
data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
A Limitation to specify that only the Users who owns all parent
Locations of a Content item gets a certain access right, used for
`content/create` permission.

<div class="table-wrap">
  -------------- ---------------------------------------------------------
  Identifier     `ParentOwner`

  Value Class    `eZ\Publish\API\Repository\Values\User\Limitation\ParentO
                 wnerLimitation`

  Type Class     `eZ\Publish\Core\Limitation\ParentOwnerLimitationType`

  Criterion used n/a

  Role           no
  Limitation     
  -------------- ---------------------------------------------------------

</div>
**Possible values**

<div class="table-wrap">
  ------------------------ ------------------------ ------------------------
  Value                    UI value                 Description

  1                        “self”                   Only the User who is the
                                                    owner of all parent
                                                    Locations gets access

  2                        “session”                Same as “self”
  ------------------------ ------------------------ ------------------------

</div>
**Legacy compatibility notes**

1.  “session” is deprecated and works exactly like “self” in Public API
    since it has no knowledge of user Sessions
2.  User is no longer auto assumed to be owner of himself and get access
    create children of own user content object when `Owner` limitation
    is used in Public API

<div
class="confluence-information-macro confluence-information-macro-information">
Workaround for the ParentOwner Limitation on Users (when a User is the
parent of the content being created)

<div class="confluence-information-macro-body">
To make sure the User gets access to themselves when using
(Parent)OwnerLimitation across 4.x and 5.x, the solution is to change
the User to be the owner of their own Content item.

This is accomplished using a privileged user to do the following API
calls:

<div class="code panel pdl" style="border-width: 1px;">
<div class="codeContent panelContent pdl">
``` {.sourceCode .brush:}
$user = $userService->loadUser( $userId );
$contentMetadataUpdateStruct = $contentService->newContentMetadataUpdateStruct();
$contentMetadataUpdateStruct->ownerId = $user->id;
$contentService->updateContentMetadata( $user->getVersionInfo()->getContentInfo(), $contentMetadataUpdateStruct );
```

</div>
</div>
</div>
</div>
 

 

</div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
 

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer" role="contentinfo">
<div class="section footer-body">
Document generated by Confluence on Mar 24, 2017 17:19

<div id="footer-logo">
[Atlassian](http://www.atlassian.com/)

</div>
</div>
</div>
</div>

